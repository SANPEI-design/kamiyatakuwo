!function(t){var e={};function s(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=e,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";s.r(e);var n={question:["かみやたくをの言葉を選びなさい","かみやたくを以外の言葉を選びなさい"],numberList:["イ","ロ","ハ","ニ"],kamiyaWordList:["つまづいたら何度だって\n起きあがればいいんだよなあ","誰だって最初は\nちっぽけな芽なんだよなあ","ゆきさきは心が決める\nあとから体がついてくる","しあわせじゃないなんて\nゆえる時はまだしあわせなんだよなあ","幸せかそうでないかは\nかみひとえ すべて自分しだい","できるとできないなら\nできると言いたい","だれだって最初は赤ん坊\nあなたもとなりの人も","大げさなんて誰が決めたの","水の流れはいい\n気持ちによりそってくれるから"],othersWordList:["毎日少しずつ\nそれがなかなかできねんだなあ","できない約束は\nしないことだな","体験してはじめて\n身につくんだなあ","まける人のおかげで\n勝てるんだよなあ","アレもコレもほしがるなよ","あってもなくてもいいものは、\nないほうがいいんだな。","なやみはつきねんだなあ\n生きているんだもの","うばい合えば足らぬ\nわけ合えばあまる","感動いっぱい、感激いっぱいの\nいのちを生きたい。","ラクしてカッコよければしあわせか\n逆に骨を折ることは不幸か。","しんじつだけが魂をうつ","考えてばかりいると、\n日が暮れちゃうよ。","つまずいたっていいじゃないか\n人間だもの。","名もない草も実をつける\nいのちいっぱいの花を咲かせて","雨の日には雨の中を、\n風の日には風の中を","使ったところが強くなる\n頭でもからだでも","歩くから道になる\n歩かなければ草が生える","水にぬれなければ\nおよげませんよ"]};var i=class{static storeSession(t,e){sessionStorage.setItem(t,JSON.stringify(e))}static searchSession(t){return JSON.parse(sessionStorage.getItem(t))}};var r=class{constructor(){this.bindEvent()}bindEvent(){const[t,e]=this.init();i.storeSession("allAnswerList",t),i.storeSession("questionList",e)}static numberList(){return n.numberList}init(){const t={},e=[],s=[];let i,r,[a,c]=this.compareLength(n.kamiyaWordList,n.othersWordList);for(i=a.length,r=c.length;r>=1;){let n,l,o;if([a,c]=this.compareLength(a,c),i=a.length,r=c.length,i<3)break;n=this.selectQuestion(c),s.push(n),l=this.selectRandom(a,3),o=this.selectRandom(c,1),l.forEach((e,s)=>{t["miss"+s]=e}),o.forEach(e=>{t.correct=e}),e.push(this.shuffle(t))}return[e,s]}compareLength(t,e){let s,n;return t.length>e.length==!0?(s=t,n=e):(s=e,n=t),[s,n]}selectQuestion(t){let e;const s=t.concat(Object.values(n.kamiyaWordList)),i=new Set(s),r=Array.from(i);return e=s.length===r.length?n.question[1]:n.question[0],e}selectRandom(t,e){const s=[];for(;s.length<e&&t.length>0;){const e=Math.floor(Math.random()*t.length);s.push(t[e]),t.splice(e,1)}return s}shuffle(t){const e=Object.entries(t),s=this.selectRandom(e,e.length);return Object.fromEntries(s)}};var a=class{constructor(t){this.trigger=t,this.bindEvent()}bindEvent(){this.trigger.addEventListener("click",t=>{t.preventDefault(),new r,location.pathname="/quiz.html"})}};var c=class{constructor(t){this.setParameters(t),this.extractData(),this.setSession(),this.bindEvent()}setParameters(t){this.answerDOMList=t.querySelectorAll(".js-choice")}extractData(){this.allAnswerList=i.searchSession("allAnswerList"),this.numberList=r.numberList(),this.count=i.searchSession("count"),this.miss=i.searchSession("miss")}get index(){return this.count-1}get answerList(){return Object.values(this.allAnswerList[this.index])}setSession(){null===this.count&&(i.storeSession("count",1),this.count=i.searchSession("count")),null===this.miss&&i.storeSession("miss",0)}bindEvent(){this.createElement("quiz")}createElement(...t){if(t.includes("quiz")){const t=document.createDocumentFragment(),e=document.createElement("p"),s=document.createElement("p"),n={},i=4;e.classList.add("card__number","text-large","js-number"),s.classList.add("card__text","js-text"),t.appendChild(e),t.appendChild(s);for(let r=0;r<i;r++)e.innerText=this.numberList[r],s.innerText=this.answerList[r],n[r]=document.importNode(t,!0);this.appendQuiz(n)}}appendQuiz(t){this.answerDOMList.forEach((e,s)=>{const n=Object.values(t);e.appendChild(n[s])})}};var l=class{constructor(t){this.setParameters(t),this.extractData(),this.bindEvent()}setParameters(t){this.questionNumber=t.querySelector(".js-question-number"),this.questionTitle=t.querySelector(".js-question-title")}extractData(){this.count=i.searchSession("count"),this.questionList=i.searchSession("questionList")}get index(){return this.count-1}bindEvent(){this.createElement("question")}createElement(...t){if(t.includes("question")){let t,e;t="問"+this.count,e=this.questionList[this.index],this.appendQuestion(t,e)}}appendQuestion(t,e){this.questionNumber.innerText=t,this.questionTitle.innerText=e}};var o=class{constructor(t){this.trigger=t,this.bindEvent()}bindEvent(){this.trigger.addEventListener("click",t=>{t.preventDefault();const e=this.trigger.querySelector(".js-text").innerText;i.storeSession("choice",e),location.pathname="/answer.html"})}};var u=class extends c{setParameters(t){super.setParameters(t),this.answerTitle=t.querySelector(".js-answer-title"),this.answerButtonArea=t.querySelector(".js-answer-button-area")}extractData(){super.extractData(),this.choice=i.searchSession("choice")}bindEvent(){super.bindEvent(),this.choice===this.allAnswerList[this.index].correct?this.createElement("answerTitle","correct"):this.createElement("answerTitle","miss"),this.addClass()}createElement(...t){if(super.createElement(...t),t.includes("answerTitle")){const e=document.createDocumentFragment(),s=document.createElement("img"),n=document.createDocumentFragment(),i=document.createElement("button");if(i.setAttribute("type","button"),i.classList.add("button"),t.includes("correct"))this.answerTitle.classList.add("answer__title--correct"),s.setAttribute("src","/img/text_correct.svg"),s.setAttribute("alt","あたり"),s.classList.add("answer__title-image--correct"),this.answerButtonArea.classList.add("button-area"),i.classList.add("js-next"),this.count<this.allAnswerList.length?i.innerText="次の問題":i.innerText="結果をみる",n.appendChild(i);else if(t.includes("miss")){this.answerTitle.classList.add("answer__title--miss"),s.setAttribute("src","/img/text_miss.svg"),s.setAttribute("alt","はずれ"),s.classList.add("answer__title-image--miss"),this.answerButtonArea.classList.add("button-area--2column");const t={},e=2;for(let s=0;s<e;s++)t[s]=document.importNode(i,!0),0===s&&(t[s].classList.add("js-modal"),t[s].innerText="正解をみる"),1===s&&(t[s].classList.add("js-redo"),t[s].innerText="やり直す");Object.values(t).forEach(t=>{n.appendChild(t)})}e.appendChild(s),this.appendAnswer(e,n)}}appendAnswer(t,e){this.answerTitle.appendChild(t),this.answerButtonArea.appendChild(e)}addClass(){this.answerDOMList.forEach((t,e)=>{this.choice===this.answerList[e]&&t.classList.add("is-selected")})}};var d=class{constructor(t){this.trigger=t,this.extractData(),this.bindEvent()}extractData(){this.allAnswerList=i.searchSession("allAnswerList"),this.count=i.searchSession("count"),this.numberList=r.numberList()}get index(){return this.count-1}bindEvent(){let t,e;[t,e]=this.createElement(t,e),this.trigger.addEventListener("click",e=>{e.preventDefault(),this.appendElement(t)}),t.addEventListener("click",e=>{e.preventDefault(),this.removeElement(t)}),e.addEventListener("click",t=>{t.stopPropagation()})}createElement(t,e){let s,n,i,r,a;return(t=document.createElement("div")).classList.add("modal"),(e=document.createElement("div")).classList.add("modal__content"),s=document.createElement("p"),s.classList.add("modal__title","text-large"),s.innerText="正解",n=document.createElement("p"),n.classList.add("modal__number"),i=document.createElement("p"),i.classList.add("modal__text"),r=document.createElement("div"),r.classList.add("modal__button-area","button-area"),a=document.createElement("button"),a.setAttribute("type","button"),a.classList.add("button"),a.classList.add("js-next","js-miss"),this.count<this.allAnswerList.length?a.innerText="次の問題":a.innerText="結果をみる",Object.keys(this.allAnswerList[this.index]).forEach((t,e)=>{if("correct"===t){const s=this.numberList[e],r=this.allAnswerList[this.index][t];n.innerText=s,i.innerText=r}}),t.appendChild(e),e.appendChild(s),e.appendChild(n),e.appendChild(i),e.appendChild(r),r.appendChild(a),[t,e]}appendElement(t){const e=document.body;e.insertBefore(t,e.firstChild)}removeElement(t){t.remove()}};var h=class{constructor(t){this.trigger=t,this.bindEvent()}bindEvent(){this.trigger.addEventListener("click",t=>{t.preventDefault(),location.pathname="/quiz.html"})}};var m=class{constructor(t){this.trigger=t,this.extractData(),this.bindEvent()}extractData(){this.allAnswerList=i.searchSession("allAnswerList"),this.count=i.searchSession("count")}bindEvent(){this.trigger.addEventListener("click",t=>{t.preventDefault(),this.count<this.allAnswerList.length?(location.pathname="/quiz.html",this.increaseCount(),i.storeSession("count",this.count)):location.pathname="/result.html"})}increaseCount(){this.count++}};var p=class{constructor(t){this.trigger=t,this.extractData(),this.bindEvent()}extractData(){this.miss=i.searchSession("miss")}bindEvent(){this.trigger.addEventListener("click",t=>{t.preventDefault(),this.increaseCount(),i.storeSession("miss",this.miss)})}increaseCount(){this.miss++}};var g=class{constructor(t){this.setParameters(t),this.extractData(),this.bindEvent()}setParameters(t){this.resultTitle=t.querySelector(".js-result-title"),this.resultRate=t.querySelector(".js-result-rate")}extractData(){this.allAnswerList=i.searchSession("allAnswerList"),this.miss=i.searchSession("miss")}bindEvent(){this.createElement("result")}createElement(...t){if(t.includes("result")){const t=Math.round((this.allAnswerList.length-this.miss)/this.allAnswerList.length*100),e=document.createElement("img");e.classList.add("js-result-img"),t<50?(e.classList.add("result__title-image--best"),e.setAttribute("src","/img/text_best.svg"),e.setAttribute("alt","がんばれ")):(e.classList.add("result__title-image--great"),e.setAttribute("src","/img/text_great.svg"),e.setAttribute("alt","すごい")),this.appendElement(t,e)}}appendElement(t,e){this.resultTitle.appendChild(e),this.resultRate.innerText=t}};var b=class{constructor(t){this.trigger=t,this.bindEvent()}bindEvent(){this.trigger.addEventListener("click",t=>{t.preventDefault(),sessionStorage.clear(),location.pathname="/"})}};var v=class{constructor(t){this.trigger=t,this.bindEvent()}bindEvent(){this.trigger.addEventListener("click",()=>{if(void 0!==navigator.share){const[t,e]=this.resultData;navigator.share({url:"/",title:"名言クイズ「かみやたくを」",text:`${t}！正解率は${e}%でした。あなたは何問解けるかな？ | 名言クイズ「かみやたくを」`}).catch(t=>{"NotAllowedError"===t.name&&alert("再読込してからお試しください")})}else alert("未対応ブラウザです。\n対応ブラウザ：iOS Safari／android chrome")})}get resultData(){return[document.querySelector(".js-result-img").getAttribute("alt"),document.querySelector(".js-result-rate").innerText]}};const L=document.querySelector(".js-start");null!==L&&new a(L);const E=document.querySelector(".js-quiz");null!==E&&new c(E);const f=document.querySelector(".js-question");null!==f&&new l(f);const w=document.querySelectorAll(".js-choice-answer");w.length>0&&w.forEach(t=>{new o(t)});const S=document.querySelector(".js-answer");null!==S&&new u(S);const x=document.querySelector(".js-modal");null!==x&&(new d(x),x.addEventListener("click",()=>{const t=document.querySelector(".js-next"),e=document.querySelector(".js-miss");null!==t&&new m(t),null!==e&&new p(e)},{once:!0}));const j=document.querySelector(".js-redo");null!==j&&new h(j);const q=document.querySelector(".js-next");null!==q&&new m(q);const y=document.querySelector(".js-result");null!==y&&new g(y);const A=document.querySelector(".js-clear");null!==A&&new b(A);const _=document.querySelector(".js-share");null!==_&&new v(_)}]);